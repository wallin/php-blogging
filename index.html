<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Php-blogging by wallin</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Php-blogging</h1>
        <h2>Simple, pluggable, database-free blog engine for PHP using plain file storage</h2>
        <a href="https://github.com/wallin/php-blogging" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a name="php-blogging" class="anchor" href="#php-blogging"><span class="octicon octicon-link"></span></a>php-blogging</h1>

<p>In the spirit of the
<a href="http://www.typeandgrids.com/blog/goodbye-wordpress-2014-will-be-the-year-of-flat-file-cmses">anti-wordpress rage</a>,
<code>php-blogging</code> is a simple, pluggable blog engine written in PHP that you just
drop right in to any directory. It uses plain/flat file storage for maximum
portability and doesn't need any particular configuration.</p>

<p>It is designed for developers and does not itself supply any UI components
(like CSS/themes) but is merely an API for handling the blog posts themselves.
However, the <code>example</code> folder in this repository contains a reference
implementation of a fully working blog (incl. admin) which illustrates how to
use the library.</p>

<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<div class="highlight highlight-bash"><pre>git clone https://github.com/wallin/php-blogging.git

<span class="nb">cd </span>path/to/project
mkdir posts <span class="o">&amp;&amp;</span> chmod <span class="m">777</span> posts
</pre></div>

<p>In your PHP Code.</p>

<div class="highlight highlight-php"><pre><span class="k">require</span> <span class="s1">'path/to/php-blogging/lib/Blogpost.php'</span><span class="p">;</span>

<span class="c1">// Optional configuration of storage directory, default is './posts'</span>
<span class="c1">// Blogpost::$basePath = './custom-posts';</span>

<span class="c1">// Fetch the latest posts</span>
<span class="nv">$posts</span> <span class="o">=</span> <span class="nx">Blogpost</span><span class="o">::</span><span class="na">all</span><span class="p">();</span>
</pre></div>

<h2>
<a name="example" class="anchor" href="#example"><span class="octicon octicon-link"></span></a>Example</h2>

<p>See a full example of how to use the library in the  <code>examples</code> dir. The
<code>admin</code> subdir contains a simple administration tool (written in AngularJS)
where you can create, edit and delete posts. It also illustrates the use of
<a href="#attributes--frontmatter">attributes</a></p>

<h2>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h2>

<h3>
<a name="create-a-new-post" class="anchor" href="#create-a-new-post"><span class="octicon octicon-link"></span></a>Create a new post</h3>

<h4>
<a name="post-id--filename" class="anchor" href="#post-id--filename"><span class="octicon octicon-link"></span></a>Post ID / filename</h4>

<p>An ID is everything a post need to exist. It will be translated to a file name
which will be used to store it's content. For example:</p>

<div class="highlight highlight-php"><pre><span class="nv">$post</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Blogpost</span><span class="p">();</span>
<span class="c1">// All that the post need is an ID, which will translate to a filename</span>
<span class="nv">$post</span><span class="o">-&gt;</span><span class="na">setId</span><span class="p">(</span><span class="s1">'my-first-post'</span><span class="p">);</span>
<span class="nv">$post</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
</pre></div>

<p>will yield a file <code>./posts/my-first-post.md</code></p>

<h4>
<a name="attributes--frontmatter" class="anchor" href="#attributes--frontmatter"><span class="octicon octicon-link"></span></a>Attributes / Frontmatter</h4>

<p>By default, the Frontmatter plugin is enables which means that everything you
assign to the post will be saved as YAML at the beginning of the storage file
content. For example:</p>

<div class="highlight highlight-php"><pre><span class="nv">$post</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Blogpost</span><span class="p">();</span>
<span class="nv">$post</span><span class="o">-&gt;</span><span class="na">setSource</span><span class="p">(</span><span class="s1">'Dear Diane! The owls are not what they seem'</span><span class="p">);</span>

<span class="c1">// Custom attributes will become YAML</span>
<span class="nv">$post</span><span class="o">-&gt;</span><span class="na">title</span> <span class="o">=</span> <span class="s2">"My first post"</span><span class="p">;</span>

<span class="c1">// By default, the TitleSlug plugin is enabled, which means that you don't have</span>
<span class="c1">// to set and ID manually, but it will instead be set by the plugin by using the</span>
<span class="c1">// title. In this case the ID will be 'my-first-post'</span>
<span class="c1">// attribute</span>
<span class="nv">$post</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
</pre></div>

<p>Will produce a file with content:</p>

<pre><code>---
title: My first post
---
Dear Diane! The owls are not what they seem
</code></pre>

<h3>
<a name="find-a-post-and-display-its-contents" class="anchor" href="#find-a-post-and-display-its-contents"><span class="octicon octicon-link"></span></a>Find a post and display it's contents</h3>

<p>By default, the Markdown processor plugin is enabled which lets you use
markdown as source content. This content will then be rendered into HTML by
the <code>render()</code> method of the post.</p>

<div class="highlight highlight-php"><pre><span class="c1">// The post that we created in the previous example can be read back by using</span>
<span class="c1">// the ID (which reads file './posts/my-first-post.md'):</span>

<span class="nv">$post</span> <span class="o">=</span> <span class="nx">Blogpost</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="s1">'my-first-post'</span><span class="p">);</span>
</pre></div>

<p>In the markup the <code>render</code> method is used to produce the actual content of the post:</p>

<div class="highlight highlight-html"><pre><span class="nt">&lt;h1&gt;</span><span class="cp">&lt;?= $post-&gt;title ?&gt;</span><span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"content"</span><span class="nt">&gt;</span>
  <span class="cp">&lt;?= $post-&gt;render() ?&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<h3>
<a name="listing--quering-posts" class="anchor" href="#listing--quering-posts"><span class="octicon octicon-link"></span></a>Listing / Quering posts</h3>

<div class="highlight highlight-php"><pre><span class="c1">// List all posts</span>
<span class="nv">$posts</span> <span class="o">=</span> <span class="nx">Blogpost</span><span class="o">::</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// Find posts matching a certain attribute</span>
<span class="nv">$posts</span> <span class="o">=</span> <span class="nx">Blogpost</span><span class="o">::</span><span class="na">find</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'published'</span><span class="p">,</span> <span class="k">true</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">result</span><span class="p">();</span>
</pre></div>

<p>By default the Excerpt plugin is enabled which will generate an 255 character
long, html-free excerpt which is convenient to use when listing all posts. Example:</p>

<div class="highlight highlight-html"><pre><span class="cp">&lt;? foreach($posts as $post): ?&gt;</span>
  <span class="nt">&lt;article&gt;</span>
    <span class="nt">&lt;h1&gt;</span><span class="cp">&lt;?= $post-&gt;title ?&gt;</span><span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"content"</span><span class="nt">&gt;</span>
      <span class="cp">&lt;?= $post-&gt;render()-&gt;excerpt ?&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;article&gt;</span>
<span class="cp">&lt;? endforeach; ?&gt;</span>
</pre></div>

<h2>
<a name="contributing" class="anchor" href="#contributing"><span class="octicon octicon-link"></span></a>Contributing</h2>

<ul>
<li>Create a fork</li>
<li>Create code and tests</li>
<li>Run tests with <code>grunt phpunit</code>
</li>
<li>Commit</li>
<li>Make pull request</li>
</ul><h2>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h2>

<p>MIT</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/wallin/php-blogging/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/wallin/php-blogging/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/wallin/php-blogging"></a> is maintained by <a href="https://github.com/wallin">wallin</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-7232273-13");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>